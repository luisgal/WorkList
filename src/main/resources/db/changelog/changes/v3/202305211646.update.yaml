databaseChangeLog:
  - changeSet:
      id: 3cdbbe2f-a95d-4fc0-8022-9bb3cc405f36
      author: luisgalrod@gmail.com
      comment: "El tipo de dato uuid causa problemas, se cambiara a varchar(36), para ello se deben hacer cambios con respecto a las llaves foraneas y reiniciaran los datos de prueba"
      changes:
        - tagDatabase:
            tag: v3.0
        - dropAllForeignKeyConstraints:
            baseTableName: colaborador
        - dropPrimaryKey:
            tableName: usuario
        - dropPrimaryKey:
            tableName: tarea
        - dropPrimaryKey:
            tableName: colaborador
        - sql:
            TRUNCATE usuario
        - sql:
            TRUNCATE tarea
        - sql:
            TRUNCATE colaborador
        - modifyDataType:
            tableName: usuario
            columnName: usuario_id
            newDataType: VARCHAR(36)
        - addPrimaryKey:
            tableName: usuario
            columnNames: usuario_id
        - addDefaultValue:
            tableName: usuario
            columnName: usuario_id
            defaultValueComputed: 'GEN_RANDOM_UUID()'
        - modifyDataType:
            tableName: tarea
            columnName: tarea_id
            newDataType: VARCHAR(36)
        - addPrimaryKey:
            tableName: tarea
            columnNames: tarea_id
        - addDefaultValue:
            tableName: tarea
            columnName: tarea_id
            defaultValueComputed: 'GEN_RANDOM_UUID()'
        - modifyDataType:
            tableName: colaborador
            columnName: colaborador_id
            newDataType: VARCHAR(36)
        - addPrimaryKey:
            tableName: colaborador
            columnNames: colaborador_id
        - addDefaultValue:
            tableName: colaborador
            columnName: colaborador_id
            defaultValueComputed: 'GEN_RANDOM_UUID()'
        - addForeignKeyConstraint:
            baseTableName: colaborador
            baseColumnNames: usuario_id
            referencedTableName: usuario
            referencedColumnNames: usuario_id
            constraintName: fk_colaborador_usuario
        - addForeignKeyConstraint:
            baseTableName: colaborador
            baseColumnNames: tarea_id
            referencedTableName: tarea
            referencedColumnNames: tarea_id
            constraintName: fk_colaborador_tarea